{% extends "base.html" %}
{% block title %}Manage Data{% endblock %}

{% block content %}
<h1>Manage Vehicles and Showrooms</h1>

<h2>Add Vehicle</h2>
<form method="post" action="{{ url_for('admin.manage_data') }}">
  <label>Model</label>
  <input type="text" name="model_name" required />
  <label>Price</label>
  <input type="text" name="price" required />
  <label>Top Speed</label>
  <input type="text" name="top_speed" required />
  <label>Range</label>
  <input type="text" name="range" required />
  <label>Features</label>
  <textarea name="features" rows="3" required></textarea>
  <button type="submit" name="add_vehicle" value="1">Add Vehicle</button>
</form>

<h3>All Vehicles</h3>
<table>
  <thead>
    <tr>
      <th>Model</th>
      <th>Price</th>
      <th>Top Speed</th>
      <th>Range</th>
      <th>Features</th>
    </tr>
  </thead>
  <tbody>
    {% for vehicle in vehicles %}
    <tr>
      <td>{{ vehicle.model_name }}</td>
      <td>{{ vehicle.price }}</td>
      <td>{{ vehicle.top_speed }}</td>
      <td>{{ vehicle.range }}</td>
      <td>{{ vehicle.features }}</td>
    </tr>
    {% else %}
    <tr><td colspan="5">No vehicles available.</td></tr>
    {% endfor %}
  </tbody>
</table>

<hr />

<h2>Add Showroom</h2>
<form method="post" action="{{ url_for('admin.manage_data') }}">
  <label>Name</label>
  <input type="text" name="name" required />
  <label>District</label>
  <input type="text" name="district" required />
  <label>Address</label>
  <textarea name="address" rows="3" required></textarea>
  <label>Phone</label>
  <input type="text" name="phone" required />
  <label>Map Link</label>
  <input type="url" name="map_link" />
  <button type="submit" name="add_showroom" value="1">Add Showroom</button>
</form>

<h3>All Showrooms</h3>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>District</th>
      <th>Address</th>
      <th>Phone</th>
      <th>Map Link</th>
    </tr>
  </thead>
  <tbody>
    {% for showroom in showrooms %}
    <tr>
      <td>{{ showroom.name }}</td>
      <td>{{ showroom.district }}</td>
      <td>{{ showroom.address }}</td>
      <td>{{ showroom.phone }}</td>
      <td>
        {% if showroom.map_link %}
          <a href="{{ showroom.map_link }}" target="_blank">View Map</a>
        {% else %}
          N/A
        {% endif %}
      </td>
    </tr>
    {% else %}
    <tr><td colspan="5">No showrooms found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
